"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7757],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>p});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},d=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),h=c(n),p=o,u=h["".concat(l,".").concat(p)]||h[p]||m[p]||i;return n?a.createElement(u,r(r({ref:t},d),{},{components:n})):a.createElement(u,r({ref:t},d))}));function p(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,r=new Array(i);r[0]=h;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,r[1]=s;for(var c=2;c<i;c++)r[c]=n[c];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},6351:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>m,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var a=n(7462),o=(n(7294),n(3905));const i={},r=void 0,s={unversionedId:"Books/EffectiveJava3/Chapter-8/Chapter-8-Item-56-Write-doc-comments-for-all-exposed-API-elements",id:"Books/EffectiveJava3/Chapter-8/Chapter-8-Item-56-Write-doc-comments-for-all-exposed-API-elements",title:"Chapter-8-Item-56-Write-doc-comments-for-all-exposed-API-elements",description:"Chapter 8. Methods\uff08\u65b9\u6cd5\uff09",source:"@site/docs/Books/EffectiveJava3/Chapter-8/Chapter-8-Item-56-Write-doc-comments-for-all-exposed-API-elements.md",sourceDirName:"Books/EffectiveJava3/Chapter-8",slug:"/Books/EffectiveJava3/Chapter-8/Chapter-8-Item-56-Write-doc-comments-for-all-exposed-API-elements",permalink:"/docs/Books/EffectiveJava3/Chapter-8/Chapter-8-Item-56-Write-doc-comments-for-all-exposed-API-elements",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Books/EffectiveJava3/Chapter-8/Chapter-8-Item-56-Write-doc-comments-for-all-exposed-API-elements.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Chapter-8-Item-55-Return-optionals-judiciously",permalink:"/docs/Books/EffectiveJava3/Chapter-8/Chapter-8-Item-55-Return-optionals-judiciously"},next:{title:"Chapter-9-Introduction",permalink:"/docs/Books/EffectiveJava3/Chapter-9/Chapter-9-Introduction"}},l={},c=[{value:"Chapter 8. Methods\uff08\u65b9\u6cd5\uff09",id:"chapter-8-methods\u65b9\u6cd5",level:2},{value:"Item 56: Write doc comments for all exposed API elements\uff08\u4e3a\u6240\u6709\u516c\u5f00\u7684 API \u5143\u7d20\u7f16\u5199\u6587\u6863\u6ce8\u91ca\uff09",id:"item-56-write-doc-comments-for-all-exposed-api-elements\u4e3a\u6240\u6709\u516c\u5f00\u7684-api-\u5143\u7d20\u7f16\u5199\u6587\u6863\u6ce8\u91ca",level:3}],d={toc:c};function m(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"chapter-8-methods\u65b9\u6cd5"},"Chapter 8. Methods\uff08\u65b9\u6cd5\uff09"),(0,o.kt)("h3",{id:"item-56-write-doc-comments-for-all-exposed-api-elements\u4e3a\u6240\u6709\u516c\u5f00\u7684-api-\u5143\u7d20\u7f16\u5199\u6587\u6863\u6ce8\u91ca"},"Item 56: Write doc comments for all exposed API elements\uff08\u4e3a\u6240\u6709\u516c\u5f00\u7684 API \u5143\u7d20\u7f16\u5199\u6587\u6863\u6ce8\u91ca\uff09"),(0,o.kt)("p",null,"If an API is to be usable, it must be documented. Traditionally, API documentation was generated manually, and keeping it in sync with code was a chore. The Java programming environment eases this task with the Javadoc utility. Javadoc generates API documentation automatically from source code with specially formatted documentation comments, more commonly known as doc comments."),(0,o.kt)("p",null,"\u5982\u679c API \u8981\u53ef\u7528\uff0c\u5c31\u5fc5\u987b\u5bf9\u5176\u8fdb\u884c\u6587\u6863\u5316\u3002\u4f20\u7edf\u4e0a\uff0cAPI \u6587\u6863\u662f\u624b\u5de5\u751f\u6210\u7684\uff0c\u4fdd\u6301\u4e0e\u4ee3\u7801\u7684\u540c\u6b65\u662f\u4e00\u4ef6\u82e6\u5dee\u4e8b\u3002Java \u7f16\u7a0b\u73af\u5883\u4f7f\u7528 Javadoc \u5b9e\u7528\u7a0b\u5e8f\u7b80\u5316\u4e86\u8fd9\u4e00\u4efb\u52a1\u3002Javadoc \u4f7f\u7528\u7279\u6b8a\u683c\u5f0f\u7684\u6587\u6863\u6ce8\u91ca\uff08\u901a\u5e38\u79f0\u4e3a\u6587\u6863\u6ce8\u91ca\uff09\u4ece\u6e90\u4ee3\u7801\u81ea\u52a8\u751f\u6210 API \u6587\u6863\u3002"),(0,o.kt)("p",null,"While the doc comment conventions are not officially part of the language, they constitute a de facto API that every Java programmer should know. These conventions are described in the How to Write Doc Comments web page ","[Javadoc-guide]",". While this page has not been updated since Java 4 was released, it is still an invaluable resource. One important doc tag was added in Java 9, {@index}; one in Java 8, {@implSpec}; and two in Java 5, {@literal} and {@code}. These tags are missing from the aforementioned web page, but are discussed in this item."),(0,o.kt)("p",null,"\u867d\u7136\u6587\u6863\u6ce8\u91ca\u7ea6\u5b9a\u4e0d\u662f\u6b63\u5f0f\u8bed\u8a00\u7684\u4e00\u90e8\u5206\uff0c\u4f46\u5b83\u4eec\u5b9e\u9645\u4e0a\u6784\u6210\u4e86\u6bcf\u4e2a Java \u7a0b\u5e8f\u5458\u90fd\u5e94\u8be5\u77e5\u9053\u7684 API\u3002\u8fd9\u4e9b\u7ea6\u5b9a\u5728\u5982\u4f55\u7f16\u5199\u6587\u6863\u6ce8\u91ca\u7684 web \u9875\u9762 ","[Javadoc-guide]"," \u4e2d\u8fdb\u884c\u4e86\u63cf\u8ff0\u3002\u867d\u7136\u81ea Java 4 \u53d1\u5e03\u4ee5\u6765\u8fd9\u4e2a\u9875\u9762\u6ca1\u6709\u66f4\u65b0\uff0c\u4f46\u5b83\u4ecd\u7136\u662f\u4e00\u4e2a\u975e\u5e38\u5b9d\u8d35\u7684\u8d44\u6e90\u3002\u5728 Java 9 \u4e2d\u6dfb\u52a0\u4e86\u4e00\u4e2a\u91cd\u8981\u7684\u6587\u6863\u6807\u7b7e\uff0c",(0,o.kt)("inlineCode",{parentName:"p"},"{@index}"),"\uff1bJava 8 \u6709\u4e00\u4e2a\u91cd\u8981\u6807\u7b7e\uff0c",(0,o.kt)("inlineCode",{parentName:"p"},"{@implSpec}"),"\uff1bJava 5 \u4e2d\u6709\u4e24\u4e2a\u91cd\u8981\u6807\u7b7e\uff0c",(0,o.kt)("inlineCode",{parentName:"p"},"{@literal}")," \u548c ",(0,o.kt)("inlineCode",{parentName:"p"},"{@code}"),"\u3002\u4e0a\u8ff0 web \u9875\u9762\u4e2d\u7f3a\u5c11\u8fd9\u4e9b\u6807\u7b7e\uff0c\u4f46\u5c06\u5728\u672c\u9879\u76ee\u4e2d\u8ba8\u8bba\u3002"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"To document your API properly, you must precede every exported class, interface, constructor, method, and field declaration with a doc comment.")," If a class is serializable, you should also document its serialized form (Item 87). In the absence of a doc comment, the best that Javadoc can do is to reproduce the declaration as the sole documentation for the affected API element. It is frustrating and error-prone to use an API with missing documentation comments. Public classes should not use default constructors because there is no way to provide doc comments for them. To write maintainable code, you should also write doc comments for most unexported classes, interfaces, constructors, methods, and fields, though these comments needn\u2019t be as thorough as those for exported API elements."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"\u8981\u6b63\u786e\u5730\u7f16\u5199 API \u6587\u6863\uff0c\u5fc5\u987b\u5728\u6bcf\u4e2a\u516c\u5f00\u7684\u7c7b\u3001\u63a5\u53e3\u3001\u6784\u9020\u51fd\u6570\u3001\u65b9\u6cd5\u548c\u5b57\u6bb5\u58f0\u660e\u4e4b\u524d\u52a0\u4e0a\u6587\u6863\u6ce8\u91ca\u3002")," \u5982\u679c\u4e00\u4e2a\u7c7b\u662f\u53ef\u5e8f\u5217\u5316\u7684\uff0c\u8fd8\u5e94\u8be5\u8bb0\u5f55\u5b83\u7684\u5e8f\u5217\u5316\u5f62\u5f0f\uff08",(0,o.kt)("a",{parentName:"p",href:"./Chapter-12/Chapter-12-Item-87-Consider-using-a-custom-serialized-form"},"Item-87"),"\uff09\u3002\u5728\u7f3a\u5c11\u6587\u6863\u6ce8\u91ca\u7684\u60c5\u51b5\u4e0b\uff0cJavadoc \u6240\u80fd\u505a\u7684\u6700\u597d\u7684\u4e8b\u60c5\u5c31\u662f\u91cd\u65b0\u751f\u6210\u8be5\u58f0\u660e\uff0c\u4f5c\u4e3a\u53d7\u5f71\u54cd\u7684 API \u5143\u7d20\u7684\u552f\u4e00\u6587\u6863\u3002\u4f7f\u7528\u7f3a\u5c11\u6587\u6863\u6ce8\u91ca\u7684 API \u662f\u4ee4\u4eba\u6cae\u4e27\u548c\u5bb9\u6613\u51fa\u9519\u7684\u3002\u516c\u5171\u7c7b\u4e0d\u5e94\u8be5\u4f7f\u7528\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\uff0c\u56e0\u4e3a\u65e0\u6cd5\u4e3a\u5b83\u4eec\u63d0\u4f9b\u6587\u6863\u6ce8\u91ca\u3002\u8981\u7f16\u5199\u53ef\u7ef4\u62a4\u7684\u4ee3\u7801\uff0c\u8fd8\u5e94\u8be5\u4e3a\u5927\u591a\u6570\u672a\u516c\u5f00\u7684\u7c7b\u3001\u63a5\u53e3\u3001\u6784\u9020\u51fd\u6570\u3001\u65b9\u6cd5\u548c\u5b57\u6bb5\u7f16\u5199\u6587\u6863\u6ce8\u91ca\uff0c\u5c3d\u7ba1\u8fd9\u4e9b\u6ce8\u91ca\u4e0d\u9700\u8981\u50cf\u516c\u5f00 API \u5143\u7d20\u90a3\u6837\u5b8c\u6574\u3002"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"The doc comment for a method should describe succinctly the contract between the method and its client.")," With the exception of methods in classes designed for inheritance (Item 19), the contract should say what the method does rather than how it does its job. The doc comment should enumerate all of the method\u2019s preconditions, which are the things that have to be true in order for a client to invoke it, and its postconditions, which are the things that will be true after the invocation has completed successfully. Typically, preconditions are described implicitly by the @throws tags for unchecked exceptions; each unchecked exception corresponds to a precondition violation. Also, preconditions can be specified along with the affected parameters in their @param tags."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"\u65b9\u6cd5\u7684\u6587\u6863\u6ce8\u91ca\u5e94\u8be5\u7b80\u6d01\u5730\u63cf\u8ff0\u65b9\u6cd5\u4e0e\u5176\u5ba2\u6237\u7aef\u4e4b\u95f4\u7684\u7ea6\u5b9a\u3002")," \u9664\u4e86\u4e3a\u7ee7\u627f\u800c\u8bbe\u8ba1\u7684\u7c7b\u4e2d\u7684\u65b9\u6cd5\uff08",(0,o.kt)("a",{parentName:"p",href:"./Chapter-4-Item-19-Design-and-document-for-inheritance-or-else-prohibit-it"},"Item-19"),"\uff09\uff0c\u7ea6\u5b9a\u5e94\u8be5\u8bf4\u660e\u65b9\u6cd5\u505a\u4ec0\u4e48\uff0c\u800c\u4e0d\u662f\u5b83\u5982\u4f55\u505a\u5b83\u7684\u5de5\u4f5c\u3002\u6587\u6863\u6ce8\u91ca\u5e94\u8be5\u5217\u4e3e\u65b9\u6cd5\u7684\u6240\u6709\u524d\u7f6e\u6761\u4ef6\uff08\u8fd9\u4e9b\u6761\u4ef6\u5fc5\u987b\u4e3a\u771f\uff0c\u4ee5\u4fbf\u5ba2\u6237\u7aef\u8c03\u7528\u5b83\u4eec\uff09\u548c\u540e\u7f6e\u6761\u4ef6\uff08\u8fd9\u4e9b\u6761\u4ef6\u662f\u5728\u8c03\u7528\u6210\u529f\u5b8c\u6210\u540e\u624d\u4e3a\u771f\uff09\u3002\u901a\u5e38\uff0c\u5bf9\u4e8e unchecked \u7684\u5f02\u5e38\uff0c\u524d\u7f6e\u6761\u4ef6\u7531 ",(0,o.kt)("inlineCode",{parentName:"p"},"@throw")," \u6807\u8bb0\u9690\u5f0f\u5730\u63cf\u8ff0\uff1b\u6bcf\u4e2a unchecked \u5f02\u5e38\u5bf9\u5e94\u4e8e\u4e00\u4e2a\u5148\u51b3\u6761\u4ef6\u53cd\u4f8b\u3002\u6b64\u5916\uff0c\u53ef\u4ee5\u5728\u524d\u7f6e\u6761\u4ef6\u53ca\u5176 ",(0,o.kt)("inlineCode",{parentName:"p"},"@param")," \u6807\u8bb0\u4e2d\u6307\u5b9a\u53d7\u5f71\u54cd\u7684\u53c2\u6570\u3002"),(0,o.kt)("p",null,"In addition to preconditions and postconditions, methods should document any side effects. A side effect is an observable change in the state of the system that is not obviously required in order to achieve the postcondition. For example, if a method starts a background thread, the documentation should make note of it."),(0,o.kt)("p",null,"\u9664\u4e86\u524d\u7f6e\u6761\u4ef6\u548c\u540e\u7f6e\u6761\u4ef6\u5916\uff0c\u65b9\u6cd5\u8fd8\u5e94\u8be5\u6587\u6863\u4e2d\u63cf\u8ff0\u4ea7\u751f\u7684\u4efb\u4f55\u526f\u4f5c\u7528\u3002\u526f\u4f5c\u7528\u662f\u7cfb\u7edf\u72b6\u6001\u7684\u4e00\u4e2a\u53ef\u89c2\u5bdf\u5230\u7684\u53d8\u5316\uff0c\u5b83\u4e0d\u662f\u5b9e\u73b0\u540e\u7f6e\u6761\u4ef6\u6240\u660e\u663e\u9700\u8981\u7684\u3002\u4f8b\u5982\uff0c\u5982\u679c\u4e00\u4e2a\u65b9\u6cd5\u542f\u52a8\u4e86\u4e00\u4e2a\u540e\u53f0\u7ebf\u7a0b\uff0c\u6587\u6863\u5e94\u8be5\u8bf4\u660e\u3002"),(0,o.kt)("p",null,"To describe a method\u2019s contract fully, the doc comment should have an @param tag for every parameter, an @return tag unless the method has a void return type, and an @throws tag for every exception thrown by the method, whether checked or unchecked (Item 74). If the text in the @return tag would be identical to the description of the method, it may be permissible to omit it, depending on the coding standards you are following."),(0,o.kt)("p",null,"\u8981\u5b8c\u6574\u5730\u63cf\u8ff0\u65b9\u6cd5\u7684\u7ea6\u5b9a\uff0c\u6587\u6863\u6ce8\u91ca\u5e94\u8be5\u4e3a\u6bcf\u4e2a\u53c2\u6570\u8bbe\u7f6e\u4e00\u4e2a ",(0,o.kt)("inlineCode",{parentName:"p"},"@param")," \u6807\u8bb0\u548c\u4e00\u4e2a ",(0,o.kt)("inlineCode",{parentName:"p"},"@return")," \u6807\u8bb0\uff08\u9664\u975e\u65b9\u6cd5\u8fd4\u56de\u7c7b\u578b\u662f void\uff09\uff0c\u4ee5\u53ca\u4e00\u4e2a ",(0,o.kt)("inlineCode",{parentName:"p"},"@throw")," \u6807\u8bb0\uff08\u5bf9\u4e8e\u65b9\u6cd5\u629b\u51fa\u7684\u6bcf\u4e2a\u5f02\u5e38\uff0c\u65e0\u8bba checked \u6216 unchecked\uff09\uff08",(0,o.kt)("a",{parentName:"p",href:"./Chapter-10/Chapter-10-Item-74-Document-all-exceptions-thrown-by-each-method"},"Item-74"),"\u3002\u5982\u679c ",(0,o.kt)("inlineCode",{parentName:"p"},"@return")," \u6807\u8bb0\u4e2d\u7684\u6587\u672c\u4e0e\u65b9\u6cd5\u7684\u63cf\u8ff0\u76f8\u540c\uff0c\u5219\u53ef\u4ee5\u5ffd\u7565\u5b83\uff0c\u8fd9\u53d6\u51b3\u4e8e\u4f60\u6240\u9075\u5faa\u7684\u6807\u51c6\u3002"),(0,o.kt)("p",null,"By convention, the text following an @param tag or @return tag should be a noun phrase describing the value represented by the parameter or return value. Rarely, arithmetic expressions are used in place of noun phrases; see BigInteger for examples. The text following an @throws tag should consist of the word \u201cif,\u201d followed by a clause describing the conditions under which the exception is thrown. By convention, the phrase or clause following an @param, @return, or @throws tag is not terminated by a period. All of these conventions are illustrated by the following doc comment:"),(0,o.kt)("p",null,"\u6309\u7167\u60ef\u4f8b\uff0c",(0,o.kt)("inlineCode",{parentName:"p"},"@param")," \u6807\u8bb0\u6216 ",(0,o.kt)("inlineCode",{parentName:"p"},"@return")," \u6807\u8bb0\u540e\u9762\u7684\u6587\u672c\u5e94\u8be5\u662f\u4e00\u4e2a\u540d\u8bcd\u77ed\u8bed\uff0c\u63cf\u8ff0\u53c2\u6570\u6216\u8fd4\u56de\u503c\u6240\u8868\u793a\u7684\u503c\u3002\u7b97\u672f\u8868\u8fbe\u5f0f\u5f88\u5c11\u7528\u6765\u4ee3\u66ff\u540d\u8bcd\u77ed\u8bed\uff1b\u6709\u5173\u793a\u4f8b\uff0c\u8bf7\u53c2\u89c1 BigInteger\u3002",(0,o.kt)("inlineCode",{parentName:"p"},"@throw")," \u6807\u8bb0\u540e\u9762\u7684\u6587\u672c\u5e94\u8be5\u5305\u542b\u5355\u8bcd\u300cif\u300d\uff0c\u540e\u9762\u8ddf\u7740\u4e00\u4e2a\u63cf\u8ff0\u629b\u51fa\u5f02\u5e38\u7684\u6761\u4ef6\u7684\u5b50\u53e5\u3002\u6309\u7167\u60ef\u4f8b\uff0c",(0,o.kt)("inlineCode",{parentName:"p"},"@param"),"\u3001",(0,o.kt)("inlineCode",{parentName:"p"},"@return")," \u6216 ",(0,o.kt)("inlineCode",{parentName:"p"},"@throw")," \u6807\u8bb0\u540e\u9762\u7684\u77ed\u8bed\u6216\u5b50\u53e5\u4e0d\u4ee5\u53e5\u53f7\u7ed3\u675f\u3002\u4ee5\u4e0b\u7684\u6587\u6863\u6ce8\u91ca\u5c55\u793a\u4e86\u6240\u6709\u8fd9\u4e9b\u7ea6\u5b9a\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"/**\n* Returns the element at the specified position in this list.\n**\n<p>This method is <i>not</i> guaranteed to run in constant\n* time. In some implementations it may run in time proportional\n* to the element position.\n**\n@param index index of element to return; must be\n* non-negative and less than the size of this list\n* @return the element at the specified position in this list\n* @throws IndexOutOfBoundsException if the index is out of range\n* ({@code index < 0 || index >= this.size()})\n*/\nE get(int index);\n")),(0,o.kt)("p",null,"Notice the use of HTML tags in this doc comment (","<","p",">"," and ","<","i",">","). The Javadoc utility translates doc comments into HTML, and arbitrary HTML elements in doc comments end up in the resulting HTML document. Occasionally, programmers go so far as to embed HTML tables in their doc comments, although this is rare."),(0,o.kt)("p",null,"\u6ce8\u610f\uff0c\u5728\u8fd9\u4e2a\u6587\u6863\u6ce8\u91ca\u4e2d\u4f7f\u7528 HTML \u6807\u7b7e\uff08",(0,o.kt)("inlineCode",{parentName:"p"},"<p>")," \u548c ",(0,o.kt)("inlineCode",{parentName:"p"},"<i>"),"\uff09\u3002Javadoc \u5b9e\u7528\u7a0b\u5e8f\u5c06\u6587\u6863\u6ce8\u91ca\u8f6c\u6362\u4e3a HTML\uff0c\u6587\u6863\u6ce8\u91ca\u4e2d\u7684\u4efb\u610f HTML \u5143\u7d20\u6700\u7ec8\u4f1a\u51fa\u73b0\u5728\u751f\u6210\u7684 HTML \u6587\u6863\u4e2d\u3002\u6709\u65f6\u5019\uff0c\u7a0b\u5e8f\u5458\u751a\u81f3\u4f1a\u5728\u4ed6\u4eec\u7684\u6587\u6863\u6ce8\u91ca\u4e2d\u5d4c\u5165 HTML \u8868\uff0c\u5c3d\u7ba1\u8fd9\u79cd\u60c5\u51b5\u5f88\u5c11\u89c1\u3002"),(0,o.kt)("p",null,"Also notice the use of the Javadoc {@code} tag around the code fragment in the @throws clause. This tag serves two purposes: it causes the code fragment to be rendered in code font, and it suppresses processing of HTML markup and nested Javadoc tags in the code fragment. The latter property is what allows us to use the less-than sign (<) in the code fragment even though it\u2019s an HTML metacharacter. To include a multiline code example in a doc comment, use a Javadoc {@code} tag wrapped inside an HTML ","<","pre",">"," tag. In other words, precede the code example with the characters ","<","pre",">","{@code and follow it with }","<","/pre",">",". This preserves line breaks in the code, and eliminates the need to escape HTML metacharacters, but not the at sign (@), which must be escaped if the code sample uses annotations."),(0,o.kt)("p",null,"\u8fd8\u8981\u6ce8\u610f\u5728 ",(0,o.kt)("inlineCode",{parentName:"p"},"@throw")," \u5b50\u53e5\u4e2d\u7684\u4ee3\u7801\u7247\u6bb5\u5468\u56f4\u4f7f\u7528 Javadoc \u7684 ",(0,o.kt)("inlineCode",{parentName:"p"},"{@code}")," \u6807\u8bb0\u3002\u8fd9\u4e2a\u6807\u8bb0\u6709\u4e24\u4e2a\u76ee\u7684\uff1a\u5b83\u4f7f\u4ee3\u7801\u7247\u6bb5\u4ee5\u4ee3\u7801\u5b57\u4f53\u5448\u73b0\uff0c\u5e76\u4e14\u5b83\u6291\u5236\u4e86\u4ee3\u7801\u7247\u6bb5\u4e2d HTML \u6807\u8bb0\u548c\u5d4c\u5957 Javadoc \u6807\u8bb0\u7684\u5904\u7406\u3002\u540e\u4e00\u4e2a\u5c5e\u6027\u5141\u8bb8\u6211\u4eec\u5728\u4ee3\u7801\u7247\u6bb5\u4e2d\u4f7f\u7528\u5c0f\u4e8e\u53f7 ",(0,o.kt)("inlineCode",{parentName:"p"},"(<)"),"\uff0c\u5373\u4f7f\u5b83\u662f\u4e00\u4e2a HTML \u5143\u5b57\u7b26\u3002\u8981\u5728\u6587\u6863\u6ce8\u91ca\u4e2d\u5305\u542b\u591a\u884c\u4ee3\u7801\uff0c\u8bf7\u5c06\u5176\u5305\u88c5\u5728 ",(0,o.kt)("inlineCode",{parentName:"p"},"<pre>")," \u6807\u7b7e\u4e2d\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u5728\u4ee3\u7801\u793a\u4f8b\u4e4b\u524d\u52a0\u4e0a\u5b57\u7b26 ",(0,o.kt)("inlineCode",{parentName:"p"},"<pre>{@code}</pre>"),"\u3002\u8fd9\u4fdd\u7559\u4e86\u4ee3\u7801\u4e2d\u7684\u6362\u884c\u7b26\uff0c\u5e76\u6d88\u9664\u4e86\u8f6c\u4e49 HTML \u5143\u5b57\u7b26\u7684\u9700\u8981\uff0c\u4f46\u4e0d\u9700\u8981\u8f6c\u4e49 at \u7b26\u53f7 ",(0,o.kt)("inlineCode",{parentName:"p"},"(@)"),"\uff0c\u5982\u679c\u4ee3\u7801\u793a\u4f8b\u4f7f\u7528\u6ce8\u91ca\uff0c\u5219\u5fc5\u987b\u8f6c\u4e49 at \u7b26\u53f7 ",(0,o.kt)("inlineCode",{parentName:"p"},"(@)"),"\u3002"),(0,o.kt)("p",null,"Finally, notice the use of the words \u201cthis list\u201d in the doc comment. By convention, the word \u201cthis\u201d refers to the object on which a method is invoked when it is used in the doc comment for an instance method."),(0,o.kt)("p",null,"\u6700\u540e\uff0c\u8bf7\u6ce8\u610f\u6587\u6863\u6ce8\u91ca\u4e2d\u4f7f\u7528\u7684\u5355\u8bcd\u300cthis list\u300d\u3002\u6309\u7167\u60ef\u4f8b\uff0c\u300cthis\u300d\u6307\u7684\u662f\u8c03\u7528\u5b9e\u4f8b\u65b9\u6cd5\u7684\u5bf9\u8c61\u3002"),(0,o.kt)("p",null,"As mentioned in Item 15, when you design a class for inheritance, you must document its self-use patterns, so programmers know the semantics of overriding its methods. These self-use patterns should be documented using the @implSpec tag, added in Java 8. Recall that ordinary doc comments describe the contract between a method and its client; @implSpec comments, by contrast, describe the contract between a method and its subclass, allowing subclasses to rely on implementation behavior if they inherit the method or call it via super. Here's how it looks in practice:"),(0,o.kt)("p",null,"\u6b63\u5982 ",(0,o.kt)("a",{parentName:"p",href:"./Chapter-4-Item-15-Minimize-the-accessibility-of-classes-and-members"},"Item-15")," \u4e2d\u63d0\u5230\u7684\uff0c\u5f53\u4f60\u4e3a\u7ee7\u627f\u8bbe\u8ba1\u4e00\u4e2a\u7c7b\u65f6\uff0c\u4f60\u5fc5\u987b\u8bb0\u5f55\u5b83\u7684\u81ea\u7528\u6a21\u5f0f\uff0c\u4ee5\u4fbf\u7a0b\u5e8f\u5458\u77e5\u9053\u8986\u76d6\u5b83\u7684\u65b9\u6cd5\u7684\u8bed\u4e49\u3002\u8fd9\u4e9b\u81ea\u7528\u6a21\u5f0f\u5e94\u8be5\u4f7f\u7528\u5728 Java 8 \u4e2d\u6dfb\u52a0\u7684 ",(0,o.kt)("inlineCode",{parentName:"p"},"@implSpec")," \u6807\u8bb0\u6765\u8bb0\u5f55\u3002\u56de\u60f3\u4e00\u4e0b\uff0c\u666e\u901a\u7684\u6587\u6863\u6ce8\u91ca\u63cf\u8ff0\u4e86\u65b9\u6cd5\u4e0e\u5176\u5ba2\u6237\u673a\u4e4b\u95f4\u7684\u7ea6\u5b9a\uff1b\u76f8\u53cd\uff0c",(0,o.kt)("inlineCode",{parentName:"p"},"@implSpec")," \u6ce8\u91ca\u63cf\u8ff0\u4e86\u65b9\u6cd5\u4e0e\u5176\u5b50\u7c7b\u4e4b\u95f4\u7684\u7ea6\u5b9a\uff0c\u5141\u8bb8\u5b50\u7c7b\u4f9d\u8d56\u4e8e\u5b9e\u73b0\u884c\u4e3a\uff08\u5982\u679c\u5b83\u4eec\u7ee7\u627f\u4e86\u65b9\u6cd5\u6216\u901a\u8fc7 super \u8c03\u7528\u65b9\u6cd5\uff09\u3002\u4e0b\u9762\u662f\u5b83\u5728\u5b9e\u9645\u4f7f\u7528\u65f6\u7684\u6837\u5b50\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"/**\n* Returns true if this collection is empty.\n**\n@implSpec\n* This implementation returns {@code this.size() == 0}.\n**\n@return true if this collection is empty\n*/\npublic boolean isEmpty() { ... }\n")),(0,o.kt)("p",null,'As of Java 9, the Javadoc utility still ignores the @implSpec tag unless you pass the command line switch -tag "implSpec: a :Implementation Requirements:". Hopefully this will be remedied in a subsequent release.'),(0,o.kt)("p",null,"\u4ece Java 9 \u5f00\u59cb\uff0cJavadoc \u5b9e\u7528\u7a0b\u5e8f\u4ecd\u7136\u5ffd\u7565 ",(0,o.kt)("inlineCode",{parentName:"p"},"@implSpec")," \u6807\u8bb0\uff0c\u9664\u975e\u4f60\u901a\u8fc7\u547d\u4ee4\u884c\u5f00\u5173 ",(0,o.kt)("inlineCode",{parentName:"p"},'-tag "implSpec: a :Implementation Requirements:"'),"\u3002\u5e0c\u671b\u5728\u540e\u7eed\u7684\u7248\u672c\u4e2d\u53ef\u4ee5\u7ea0\u6b63\u8fd9\u4e2a\u9519\u8bef\u3002"),(0,o.kt)("p",null,"Don\u2019t forget that you must take special action to generate documentation that contains HTML metacharacters, such as the less-than sign (<), the greater-than sign (>), and the ampersand (&). The best way to get these characters into documentation is to surround them with the {@literal} tag, which suppress processing of HTML markup and nested Javadoc tags. It is like the {@code} tag, except that it doesn\u2019t render the text in code font. For example, this Javadoc fragment:"),(0,o.kt)("p",null,"\u4e0d\u8981\u5fd8\u8bb0\uff0c\u4f60\u5fc5\u987b\u91c7\u53d6\u7279\u6b8a\u7684\u64cd\u4f5c\u6765\u751f\u6210\u5305\u542b HTML \u5143\u5b57\u7b26\u7684\u6587\u6863\uff0c\u6bd4\u5982\u5c0f\u4e8e\u53f7 ",(0,o.kt)("inlineCode",{parentName:"p"},"(<)"),"\u3001\u5927\u4e8e\u53f7 ",(0,o.kt)("inlineCode",{parentName:"p"},"(>)"),"\u3001\u4e0e\u53f7 ",(0,o.kt)("inlineCode",{parentName:"p"},"(&)"),"\u3002\u5c06\u8fd9\u4e9b\u5b57\u7b26\u653e\u5230\u6587\u6863\u4e2d\u6700\u597d\u7684\u65b9\u6cd5\u662f\u7528 ",(0,o.kt)("inlineCode",{parentName:"p"},"{@literal}")," \u6807\u8bb0\u5305\u56f4\u5b83\u4eec\uff0c\u8fd9\u5c06\u6291\u5236 HTML \u6807\u8bb0\u548c\u5d4c\u5957 Javadoc \u6807\u8bb0\u7684\u5904\u7406\u3002\u5b83\u7c7b\u4f3c\u4e8e ",(0,o.kt)("inlineCode",{parentName:"p"},"{@code}")," \u6807\u8bb0\uff0c\u53ea\u662f\u5b83\u4e0d\u4ee5\u4ee3\u7801\u5b57\u4f53\u5448\u73b0\u6587\u672c\u3002\u4f8b\u5982\uff0c\u8fd9\u4e2a Javadoc \u7247\u6bb5\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"* A geometric series converges if {@literal |r| < 1}.\n")),(0,o.kt)("p",null,"generates the documentation: \u201cA geometric series converges if |r| < 1.\u201d The {@literal} tag could have been placed around just the less-than sign rather than the entire inequality with the same resulting documentation, but the doc comment would have been less readable in the source code. This illustrates the general principle that ",(0,o.kt)("strong",{parentName:"p"},"doc comments should be readable both in the source code and in the generated documentation.")," If you can\u2019t achieve both, the readability of the generated documentation trumps that of the source code."),(0,o.kt)("p",null,"\u751f\u6210\u6587\u6863:\u300c\u5982\u679c |r| < 1\uff0c\u5219\u51e0\u4f55\u7ea7\u6570\u6536\u655b\u3002\u300d",(0,o.kt)("inlineCode",{parentName:"p"},"{@literal}")," \u6807\u7b7e\u53ef\u4ee5\u653e\u5728\u5c0f\u4e8e\u53f7\u5468\u56f4\uff0c\u800c\u4e0d\u662f\u6574\u4e2a\u4e0d\u7b49\u5f0f\u5468\u56f4\uff0c\u5f97\u5230\u7684\u6587\u6863\u662f\u76f8\u540c\u7684\uff0c\u4f46\u662f\u6587\u6863\u6ce8\u91ca\u5728\u6e90\u4ee3\u7801\u4e2d\u53ef\u8bfb\u6027\u4f1a\u66f4\u5dee\u3002\u8fd9\u8bf4\u660e\u4e86 ",(0,o.kt)("strong",{parentName:"p"},"\u4e00\u6761\u539f\u5219\uff0c\u6587\u6863\u6ce8\u91ca\u5e94\u8be5\u5728\u6e90\u4ee3\u7801\u548c\u751f\u6210\u7684\u6587\u6863\u4e2d\u90fd\u5177\u5907\u53ef\u8bfb\u6027\u3002")," \u5982\u679c\u4e0d\u80fd\u540c\u65f6\u5b9e\u73b0\u8fd9\u4e24\u4e2a\u76ee\u6807\uff0c\u8981\u4fdd\u8bc1\u751f\u6210\u7684\u6587\u6863\u7684\u53ef\u8bfb\u6027\u8d85\u8fc7\u6e90\u4ee3\u7801\u7684\u53ef\u8bfb\u6027\u3002"),(0,o.kt)("p",null,"The first \u201csentence\u201d of each doc comment (as defined below) becomes the summary description of the element to which the comment pertains. For example, the summary description in the doc comment on page 255 is \u201cReturns the element at the specified position in this list.\u201d The summary description must stand on its own to describe the functionality of the element it summarizes. To avoid confusion, ",(0,o.kt)("strong",{parentName:"p"},"no two members or constructors in a class or interface should have the same summary description.")," Pay particular attention to overloadings, for which it is often natural to use the same first sentence (but unacceptable in doc comments)."),(0,o.kt)("p",null,"\u6bcf\u4e2a\u6587\u6863\u6ce8\u91ca\u7684\u7b2c\u4e00\u4e2a\u300c\u53e5\u5b50\u300d\uff08\u5b9a\u4e49\u5982\u4e0b\uff09\u6210\u4e3a\u6ce8\u91ca\u6240\u5c5e\u5143\u7d20\u7684\u6458\u8981\u63cf\u8ff0\u3002\u4f8b\u5982\uff0c255 \u9875\u6587\u6863\u6ce8\u91ca\u4e2d\u7684\u6458\u8981\u63cf\u8ff0\u662f\u300c\u8fd4\u56de\u5217\u8868\u4e2d\u6307\u5b9a\u4f4d\u7f6e\u7684\u5143\u7d20\u300d\u3002\u6458\u8981\u63cf\u8ff0\u5fc5\u987b\u72ec\u7acb\u5730\u63cf\u8ff0\u5b83\u603b\u7ed3\u7684\u5143\u7d20\u7684\u529f\u80fd\u3002\u4e3a\u4e86\u907f\u514d\u6df7\u6dc6\uff0c",(0,o.kt)("strong",{parentName:"p"},"\u7c7b\u6216\u63a5\u53e3\u4e2d\u7684\u4efb\u4f55\u4e24\u4e2a\u6210\u5458\u6216\u6784\u9020\u51fd\u6570\u90fd\u4e0d\u5e94\u8be5\u5177\u6709\u76f8\u540c\u7684\u6458\u8981\u63cf\u8ff0\u3002")," \u7279\u522b\u6ce8\u610f\u91cd\u8f7d\uff0c\u5bf9\u4e8e\u91cd\u8f7d\uff0c\u4f7f\u7528\u76f8\u540c\u7684\u6458\u8981\u63cf\u8ff0\u662f\u5f88\u6b63\u5e38\u7684\uff08\u4f46\u5728\u6587\u6863\u6ce8\u91ca\u4e2d\u662f\u4e0d\u53ef\u63a5\u53d7\u7684\uff09\u3002"),(0,o.kt)("p",null,"Be careful if the intended summary description contains a period, because the period can prematurely terminate the description. For example, a doc comment that begins with the phrase \u201cA college degree, such as B.S., M.S. or Ph.D.\u201d will result in the summary description \u201cA college degree, such as B.S., M.S.\u201d The problem is that the summary description ends at the first period that is followed by a space, tab, or line terminator (or at the first block tag) ","[Javadoc-ref]",". Here, the second period in the abbreviation \u201cM.S.\u201d is followed by a space. The best solution is to surround the offending period and any associated text with an {@literal} tag, so the period is no longer followed by a space in the source code:"),(0,o.kt)("p",null,"\u5982\u679c\u9884\u671f\u7684\u6458\u8981\u63cf\u8ff0\u5305\u542b\u53e5\u70b9\uff0c\u8bf7\u5c0f\u5fc3\uff0c\u56e0\u4e3a\u53e5\u70b9\u53ef\u80fd\u4f1a\u63d0\u524d\u7ec8\u6b62\u63cf\u8ff0\u3002\u4f8b\u5982\uff0c\u4ee5\u300cA college degree, such as B.S., M.S. or Ph.D.\u300d\u5f00\u5934\u7684\u6587\u6863\u6ce8\u91ca\uff0c\u4f1a\u4ea7\u751f\u8fd9\u6837\u7684\u6982\u8981\u63cf\u8ff0\u300cA college degree, such as B.S., M.S.\u300d\uff0c\u95ee\u9898\u5728\u4e8e\uff0c\u6458\u8981\u63cf\u8ff0\u5728\u7b2c\u4e00\u4e2a\u53e5\u70b9\u7ed3\u675f\uff0c\u7136\u540e\u662f\u7a7a\u683c\u3001\u5236\u8868\u7b26\u6216\u884c\u7ed3\u675f\u7b26\uff08\u6216\u7b2c\u4e00\u4e2a\u5757\u6807\u8bb0\uff09","[Javadoc-ref]","\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u7f29\u5199\u300cM.S.\u300d\u4e2d\u7684\u7b2c\u4e8c\u4e2a\u53e5\u70b9\u5c31\u8981\u63a5\u7740\u7528\u4e00\u4e2a\u7a7a\u683c\u3002\u6700\u597d\u7684\u89e3\u51b3\u65b9\u6848\u662f\u7528 ",(0,o.kt)("inlineCode",{parentName:"p"},"{@literal}")," \u6807\u8bb0\u6765\u5305\u56f4\u4e0d\u5f53\u7684\u53e5\u70b9\u548c\u4efb\u4f55\u76f8\u5173\u7684\u6587\u672c\uff0c\u8fd9\u6837\u6e90\u4ee3\u7801\u4e2d\u7684\u53e5\u70b9\u540e\u9762\u5c31\u4e0d\u4f1a\u6709\u7a7a\u683c\u4e86\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"/**\n* A college degree, such as B.S., {@literal M.S.} or Ph.D.\n*/\npublic class Degree { ... }\n")),(0,o.kt)("p",null,"It is a bit misleading to say that the summary description is the first sentence in a doc comment. Convention dictates that it should seldom be a complete sentence. For methods and constructors, the summary description should be a verb phrase (including any object) describing the action performed by the method. For example:"),(0,o.kt)("p",null,"\u5c06\u6458\u8981\u63cf\u8ff0\u8bf4\u6210\u662f\u662f\u6587\u6863\u6ce8\u91ca\u4e2d\u7684\u7b2c\u4e00\u53e5\u8bdd\u6709\u70b9\u8bef\u5bfc\u4eba\u3002\u6309\u7167\u60ef\u4f8b\uff0c\u5b83\u901a\u5e38\u4e0d\u662f\u4e00\u4e2a\u5b8c\u6574\u7684\u53e5\u5b50\u3002\u5bf9\u4e8e\u65b9\u6cd5\u548c\u6784\u9020\u51fd\u6570\uff0c\u6458\u8981\u63cf\u8ff0\u5e94\u8be5\u662f\u4e00\u4e2a\u52a8\u8bcd\u77ed\u8bed\uff08\u5305\u62ec\u4efb\u4f55\u5bf9\u8c61\uff09\uff0c\u63cf\u8ff0\u65b9\u6cd5\u6267\u884c\u7684\u52a8\u4f5c\u3002\u4f8b\u5982\uff1a"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"ArrayList(int initialCapacity)\u2014Constructs an empty list with the specified initial capacity.")),(0,o.kt)("p",null,"\u6784\u9020\u5177\u6709\u6307\u5b9a\u521d\u59cb\u5bb9\u91cf\u7684\u7a7a List\u3002"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Collection.size()\u2014Returns the number of elements in this collection.")),(0,o.kt)("p",null,"\u8fd4\u56de\u6b64\u96c6\u5408\u4e2d\u7684\u5143\u7d20\u6570\u91cf\u3002"),(0,o.kt)("p",null,"As shown in these examples, use the third person declarative tense (\u201creturns the number\u201d) rather than the second person imperative (\u201creturn the number\u201d)."),(0,o.kt)("p",null,"\u5982\u8fd9\u4e9b\u4f8b\u5b50\u6240\u793a\uff0c\u5e94\u4f7f\u7528\u7b2c\u4e09\u4eba\u79f0\u9648\u8ff0\u53e5\u65f6\u6001\u300creturns the number\u300d\u800c\u4e0d\u662f\u7b2c\u4e8c\u4eba\u79f0\u7948\u4f7f\u53e5\u300creturn the number\u300d\u3002"),(0,o.kt)("p",null,"For classes, interfaces, and fields, the summary description should be a noun phrase describing the thing represented by an instance of the class or interface or by the field itself. For example:"),(0,o.kt)("p",null,"\u5bf9\u4e8e\u7c7b\u3001\u63a5\u53e3\u548c\u5b57\u6bb5\uff0c\u6458\u8981\u63cf\u8ff0\u5e94\u8be5\u662f\u4e00\u4e2a\u540d\u8bcd\u77ed\u8bed\uff0c\u63cf\u8ff0\u7531\u7c7b\u6216\u63a5\u53e3\u7684\u5b9e\u4f8b\u6216\u5b57\u6bb5\u672c\u8eab\u8868\u793a\u7684\u4e8b\u7269\u3002\u4f8b\u5982\uff1a"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Instant\u2014An instantaneous point on the time-line.")),(0,o.kt)("p",null,"\u65f6\u95f4\u7ebf\u4e0a\u7684\u77ac\u65f6\u70b9\u3002"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Math.PI\u2014The double value that is closer than any other to pi, the ratio of the circumference of a circle to its diameter.")),(0,o.kt)("p",null,"\u8fd9\u4e2a double \u7c7b\u578b\u7684\u503c\u6bd4\u4efb\u4f55\u5176\u5b83\u503c\u7684\u90fd\u66f4\u63a5\u8fd1\u4e8e\u5706\u5468\u7387\uff08\u5706\u5468\u957f\u4e0e\u76f4\u5f84\u4e4b\u6bd4\uff09\u3002"),(0,o.kt)("p",null,"In Java 9, a client-side index was added to the HTML generated by Javadoc. This index, which eases the task of navigating large API documentation sets, takes the form of a search box in the upper-right corner of the page. When you type into the box, you get a drop-down menu of matching pages. API elements, such as classes, methods, and fields, are indexed automatically. Occasionally you may wish to index additional terms that are important to your API. The {@index} tag was added for this purpose. Indexing a term that appears in a doc comment is as simple as wrapping it in this tag, as shown in this fragment:"),(0,o.kt)("p",null,"\u5728 Java 9 \u4e2d\uff0c\u5ba2\u6237\u7aef\u7d22\u5f15\u88ab\u6dfb\u52a0\u5230 Javadoc \u751f\u6210\u7684 HTML \u4e2d\u3002\u8fd9\u4e2a\u7d22\u5f15\u4ee5\u9875\u9762\u53f3\u4e0a\u89d2\u7684\u641c\u7d22\u6846\u7684\u5f62\u5f0f\u51fa\u73b0\uff0c\u5b83\u7b80\u5316\u4e86\u5bfc\u822a\u5927\u578b API \u6587\u6863\u96c6\u7684\u4efb\u52a1\u3002\u5f53\u4f60\u5728\u6846\u4e2d\u952e\u5165\u65f6\uff0c\u4f60\u5c06\u5f97\u5230\u4e00\u4e2a\u5339\u914d\u9875\u9762\u7684\u4e0b\u62c9\u83dc\u5355\u3002API \u5143\u7d20\uff08\u5982\u7c7b\u3001\u65b9\u6cd5\u548c\u5b57\u6bb5\uff09\u662f\u81ea\u52a8\u7d22\u5f15\u7684\u3002\u6709\u65f6\uff0c\u4f60\u53ef\u80fd\u5e0c\u671b\u7d22\u5f15 API \u4e2d\u5f88\u91cd\u8981\u7684\u672f\u8bed\u3002\u4e3a\u6b64\u6dfb\u52a0\u4e86 ",(0,o.kt)("inlineCode",{parentName:"p"},"{@index}")," \u6807\u8bb0\u3002\u5bf9\u6587\u6863\u6ce8\u91ca\u4e2d\u51fa\u73b0\u7684\u672f\u8bed\u8fdb\u884c\u7d22\u5f15\uff0c\u5c31\u50cf\u5c06\u5176\u5305\u88c5\u5728\u8fd9\u4e2a\u6807\u7b7e\u4e2d\u4e00\u6837\u7b80\u5355\uff0c\u5982\u4e0b\u9762\u7684\u7247\u6bb5\u6240\u793a\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"* This method complies with the {@index IEEE 754} standard.\n")),(0,o.kt)("p",null,"Generics, enums, and annotations require special care in doc comments. ",(0,o.kt)("strong",{parentName:"p"},"When documenting a generic type or method, be sure to document all type parameters:")),(0,o.kt)("p",null,"\u6cdb\u578b\u3001\u679a\u4e3e\u548c\u6ce8\u89e3\u5728\u6587\u6863\u6ce8\u91ca\u4e2d\u9700\u8981\u7279\u522b\u6ce8\u610f\u3002",(0,o.kt)("strong",{parentName:"p"},"\u4e3a\u6cdb\u578b\u7c7b\u578b\u6216\u65b9\u6cd5\u7f16\u5199\u6587\u6863\u65f6\uff0c\u8bf7\u786e\u4fdd\u8bf4\u660e\u6240\u6709\u7c7b\u578b\u53c2\u6570:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"/**\n* An object that maps keys to values. A map cannot contain\n* duplicate keys; each key can map to at most one value.\n**\n(Remainder omitted)\n**\n@param <K> the type of keys maintained by this map\n* @param <V> the type of mapped values\n*/\npublic interface Map<K, V> { ... }\n")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"When documenting an enum type, be sure to document the constants")," as well as the type and any public methods. Note that you can put an entire doc comment on one line if it\u2019s short:"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"\u7f16\u5199\u679a\u4e3e\u7c7b\u578b\u7684\u6587\u6863\u65f6\uff0c\u4e00\u5b9a\u8981\u8bf4\u660e\u5e38\u91cf")," \u4ee5\u53ca\u7c7b\u578b\u3001\u4efb\u4f55\u516c\u5171\u65b9\u6cd5\u3002\u6ce8\u610f\uff0c\u5982\u679c\u6587\u6863\u5f88\u77ed\uff0c\u4f60\u53ef\u4ee5\u628a\u6574\u4e2a\u6587\u6863\u6ce8\u91ca\u653e\u5728\u4e00\u884c\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"/**\n* An instrument section of a symphony orchestra.\n*/\npublic enum OrchestraSection {\n/** Woodwinds, such as flute, clarinet, and oboe. */\nWOODWIND,\n/** Brass instruments, such as french horn and trumpet. */\nBRASS,\n/** Percussion instruments, such as timpani and cymbals. */\nPERCUSSION,\n/** Stringed instruments, such as violin and cello. */\nSTRING;\n}\n")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"When documenting an annotation type, be sure to document any Members")," as well as the type itself. Document members with noun phrases, as if they were fields. For the summary description of the type, use a verb phrase that says what it means when a program element has an annotation of this type:"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"\u4e3a\u6ce8\u91ca\u7c7b\u578b\u7684\u6587\u6863\u65f6\uff0c\u8bf7\u786e\u4fdd\u8bf4\u660e\u5168\u90e8\u6210\u5458")," \u4ee5\u53ca\u7c7b\u578b\u672c\u8eab\u3002\u7528\u540d\u8bcd\u77ed\u8bed\u63cf\u8ff0\u6210\u5458\uff0c\u5c31\u5f53\u5b83\u4eec\u662f\u5b57\u6bb5\u4e00\u6837\u3002\u5bf9\u4e8e\u7c7b\u578b\u7684\u6458\u8981\u63cf\u8ff0\uff0c\u8bf7\u4f7f\u7528\u52a8\u8bcd\u77ed\u8bed\uff0c\u5b83\u8868\u793a\u5f53\u7a0b\u5e8f\u5143\u7d20\u5177\u6709\u6b64\u7c7b\u6ce8\u89e3\u65f6\u7684\u542b\u4e49\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"/**\n* Indicates that the annotated method is a test method that\n* must throw the designated exception to pass.\n*/\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.METHOD)\npublic @interface ExceptionTest {\n/**\n* The exception that the annotated test method must throw\n* in order to pass. (The test is permitted to throw any\n* subtype of the type described by this class object.)\n*/\nClass<? extends Throwable> value();\n}\n")),(0,o.kt)("p",null,"Package-level doc comments should be placed in a file named package-info.java. In addition to these comments, package-info.java must contain a package declaration and may contain annotations on this declaration. Similarly, if you elect to use the module system (Item 15), module-level comments should be placed in the module-info.java file."),(0,o.kt)("p",null,"\u5305\u7ea7\u522b\u7684\u6587\u6863\u6ce8\u91ca\u5e94\u8be5\u653e\u5728\u540d\u4e3a package info.java \u7684\u6587\u4ef6\u4e2d\u3002\u9664\u4e86\u8fd9\u4e9b\u6ce8\u91ca\u4e4b\u5916\uff0cpackage info.java \u5fc5\u987b\u5305\u542b\u4e00\u4e2a\u5305\u58f0\u660e\uff0c\u5e76\u4e14\u53ef\u80fd\u5305\u542b\u5173\u4e8e\u8fd9\u4e2a\u58f0\u660e\u7684\u6ce8\u91ca\u3002\u7c7b\u4f3c\u5730\uff0c\u5982\u679c\u4f60\u9009\u62e9\u4f7f\u7528\u6a21\u5757\u7cfb\u7edf\uff08",(0,o.kt)("a",{parentName:"p",href:"./Chapter-4-Item-15-Minimize-the-accessibility-of-classes-and-members"},"Item-15"),"\uff09\uff0c\u6a21\u5757\u7ea7\u522b\u7684\u6ce8\u91ca\u5e94\u8be5\u653e\u5728 module-info.java \u6587\u4ef6\u4e2d\u3002"),(0,o.kt)("p",null,"Two aspects of APIs that are often neglected in documentation are threadsafety and serializability. ",(0,o.kt)("strong",{parentName:"p"},"Whether or not a class or static method is threadsafe, you should document its thread-safety")," level, as described in Item 82. If a class is serializable, you should document its serialized form, as described in Item 87."),(0,o.kt)("p",null,"\u5728\u6587\u6863\u4e2d\u7ecf\u5e38\u5ffd\u7565\u7684 API \u7684\u4e24\u4e2a\u65b9\u9762\u662f\u7ebf\u7a0b\u5b89\u5168\u6027\u548c\u53ef\u5e8f\u5217\u5316\u6027\u3002",(0,o.kt)("strong",{parentName:"p"},"\u65e0\u8bba\u7c7b\u6216\u9759\u6001\u65b9\u6cd5\u662f\u5426\u7ebf\u7a0b\u5b89\u5168\uff0c\u4f60\u90fd\u5e94\u8be5\u8bf4\u660e\u5b83\u7684\u7ebf\u7a0b\u5b89\u5168\u7ea7\u522b"),"\uff0c\u5982 ",(0,o.kt)("a",{parentName:"p",href:"./Chapter-11/Chapter-11-Item-82-Document-thread-safety"},"Item-82")," \u6240\u8ff0\u3002\u5982\u679c\u4e00\u4e2a\u7c7b\u662f\u53ef\u5e8f\u5217\u5316\u7684\uff0c\u4f60\u5e94\u8be5\u8bf4\u660e\u5b83\u7684\u5e8f\u5217\u5316\u5f62\u5f0f\uff0c\u5982 ",(0,o.kt)("a",{parentName:"p",href:"./Chapter-12/Chapter-12-Item-87-Consider-using-a-custom-serialized-form"},"Item-87")," \u4e2d\u6240\u8ff0\u3002"),(0,o.kt)("p",null,"Javadoc has the ability to \u201cinherit\u201d method comments. If an API element does not have a doc comment, Javadoc searches for the most specific applicable doc comment, giving preference to interfaces over superclasses. The details of the search algorithm can be found in The Javadoc Reference Guide ","[Javadoc-ref]",". You can also inherit parts of doc comments from supertypes using the {@inheritDoc} tag. This means, among other things, that classes can reuse doc comments from interfaces they implement, rather than copying these comments. This facility has the potential to reduce the burden of maintaining multiple sets of nearly identical doc comments, but it is tricky to use and has some limitations. The details are beyond the scope of this book."),(0,o.kt)("p",null,"Javadoc \u5177\u6709\u300c\u7ee7\u627f\u300d\u65b9\u6cd5\u6ce8\u91ca\u7684\u80fd\u529b\u3002\u5982\u679c API \u5143\u7d20\u6ca1\u6709\u6587\u6863\u6ce8\u91ca\uff0cJavadoc \u5c06\u641c\u7d22\u6700\u9002\u7528\u7684\u6587\u6863\u6ce8\u91ca\uff0c\u4f18\u5148\u9009\u62e9\u63a5\u53e3\u800c\u4e0d\u662f\u8d85\u7c7b\u3002\u641c\u7d22\u7b97\u6cd5\u7684\u8be6\u7ec6\u4fe1\u606f\u53ef\u4ee5\u5728\u300aThe Javadoc Reference Guide\u300b ","[Javadoc-ref]"," \u4e2d\u627e\u5230\u3002\u4f60\u8fd8\u53ef\u4ee5\u4f7f\u7528 ",(0,o.kt)("inlineCode",{parentName:"p"},"{@inheritDoc}")," \u6807\u8bb0\u4ece\u8d85\u7c7b\u578b\u7ee7\u627f\u90e8\u5206\u6587\u6863\u6ce8\u91ca\u3002\u8fd9\u610f\u5473\u7740\u7c7b\u53ef\u4ee5\u590d\u7528\u5b83\u4eec\u5b9e\u73b0\u7684\u63a5\u53e3\u4e2d\u7684\u6587\u6863\u6ce8\u91ca\uff0c\u800c\u4e0d\u662f\u590d\u5236\u8fd9\u4e9b\u6ce8\u91ca\u3002\u8fd9\u4e2a\u5de5\u5177\u6709\u80fd\u529b\u51cf\u5c11\u7ef4\u62a4\u591a\u4e2a\u51e0\u4e4e\u76f8\u540c\u7684\u6587\u6863\u6ce8\u91ca\u96c6\u7684\u8d1f\u62c5\uff0c\u4f46\u662f\u5b83\u4f7f\u7528\u8d77\u6765\u5f88\u68d8\u624b\uff0c\u5e76\u4e14\u6709\u4e00\u4e9b\u9650\u5236\u3002\u8fd9\u4e9b\u7ec6\u8282\u8d85\u51fa\u4e86\u8fd9\u672c\u4e66\u7684\u8303\u56f4\u3002"),(0,o.kt)("p",null,"One caveat should be added concerning documentation comments. While it is necessary to provide documentation comments for all exported API elements, it is not always sufficient. For complex APIs consisting of multiple interrelated classes, it is often necessary to supplement the documentation comments with an external document describing the overall architecture of the API. If such a document exists, the relevant class or package documentation comments should include a link to it."),(0,o.kt)("p",null,"\u5173\u4e8e\u6587\u6863\u6ce8\u91ca\uff0c\u6709\u4e00\u70b9\u9700\u8981\u7279\u522b\u6ce8\u610f\u3002\u867d\u7136\u6709\u5fc5\u8981\u4e3a\u6240\u6709\u516c\u5f00\u7684 API \u5143\u7d20\u63d0\u4f9b\u6587\u6863\u6ce8\u91ca\uff0c\u4f46\u8fd9\u5e76\u4e0d\u603b\u662f\u8db3\u591f\u7684\u3002\u5bf9\u4e8e\u7531\u591a\u4e2a\u76f8\u4e92\u5173\u8054\u7684\u7c7b\u7ec4\u6210\u7684\u590d\u6742 API\uff0c\u901a\u5e38\u9700\u8981\u7528\u63cf\u8ff0 API \u603b\u4f53\u67b6\u6784\u7684\u5916\u90e8\u6587\u6863\u6765\u8865\u5145\u6587\u6863\u6ce8\u91ca\u3002\u5982\u679c\u5b58\u5728\u8fd9\u6837\u7684\u6587\u6863\uff0c\u76f8\u5173\u7684\u7c7b\u6216\u5305\u6587\u6863\u6ce8\u91ca\u5e94\u8be5\u5305\u542b\u5230\u5b83\u7684\u94fe\u63a5\u3002"),(0,o.kt)("p",null,"Javadoc automatically checks for adherence to many of the recommendations in this item. In Java 7, the command line switch -Xdoclint was required to get this behavior. In Java 8 and 9, checking is enabled by default. IDE plug-ins such as checkstyle go further in checking for adherence to these recommendations ","[Burn01]",". You can also reduce the likelihood of errors in doc comments by running the HTML files generated by Javadoc through an HTML validity checker. This will detect many incorrect uses of HTML tags. Several such checkers are available for download, and you can validate HTML on the web using the W3C markup validation service ","[W3C-validator]",". When validating generated HTML, keep in mind that as of Java 9, Javadoc is capable of generating HTML5 as well as HTML 4.01, though it still generates HTML 4.01 by default. Use the -html5 command line switch if you want Javadoc to generate HTML5."),(0,o.kt)("p",null,"Javadoc \u4f1a\u81ea\u52a8\u68c0\u67e5\u6587\u6863\u662f\u5426\u7b26\u5408\u672c\u9879\u76ee\u4e2d\u63d0\u53ca\u7684\u8bb8\u591a\u5efa\u8bae\u3002\u5728 Java 7 \u4e2d\uff0c\u9700\u8981\u547d\u4ee4\u884c\u5f00\u5173 ",(0,o.kt)("inlineCode",{parentName:"p"},"-Xdoclint")," \u6765\u83b7\u5f97\u8fd9\u79cd\u7279\u6027\u3002\u5728 Java 8 \u548c Java 9 \u4e2d\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u542f\u7528\u4e86\u8be5\u673a\u5236\u3002\u8bf8\u5982 checkstyle \u4e4b\u7c7b\u7684 IDE \u63d2\u4ef6\u5728\u68c0\u67e5\u662f\u5426\u7b26\u5408\u8fd9\u4e9b\u5efa\u8bae\u65b9\u9762\u505a\u5f97\u66f4\u597d ","[Burn01]","\u3002\u8fd8\u53ef\u4ee5\u901a\u8fc7 HTML \u6709\u6548\u6027\u68c0\u67e5\u5668\u8fd0\u884c Javadoc \u751f\u6210\u7684 HTML \u6587\u4ef6\u6765\u964d\u4f4e\u6587\u6863\u6ce8\u91ca\u4e2d\u51fa\u73b0\u9519\u8bef\u7684\u53ef\u80fd\u6027\u3002\u8fd9\u5c06\u68c0\u6d4b HTML \u6807\u8bb0\u7684\u8bb8\u591a\u4e0d\u6b63\u786e\u7528\u6cd5\u3002\u6709\u51e0\u4e2a\u8fd9\u6837\u7684\u68c0\u67e5\u5668\u53ef\u4f9b\u4e0b\u8f7d\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 W3C \u6807\u8bb0\u9a8c\u8bc1\u670d\u52a1 ","[W3C-validator]"," \u5728 web \u4e0a\u9a8c\u8bc1 HTML\u3002\u5728\u9a8c\u8bc1\u751f\u6210\u7684 HTML \u65f6\uff0c\u8bf7\u8bb0\u4f4f\uff0c\u4ece Java 9 \u5f00\u59cb\uff0cJavadoc \u5c31\u80fd\u591f\u751f\u6210 HTML 5 \u548c HTML 4.01\uff0c\u5c3d\u7ba1\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u5b83\u4ecd\u7136\u751f\u6210 HTML 4.01\u3002\u5982\u679c\u5e0c\u671b Javadoc \u751f\u6210 HTML5\uff0c\u8bf7\u4f7f\u7528 ",(0,o.kt)("inlineCode",{parentName:"p"},"-html5")," \u547d\u4ee4\u884c\u5f00\u5173\u3002"),(0,o.kt)("p",null,"The conventions described in this item cover the basics. Though it is fifteen years old at the time of this writing, the definitive guide to writing doc comments is still How to Write Doc Comments ","[Javadoc-guide]",". If you adhere to the guidelines in this item, the generated documentation should provide a clear description of your API. The only way to know for sure, however, is to ",(0,o.kt)("strong",{parentName:"p"},"read the web pages generated by the Javadoc utility.")," It is worth doing this for every API that will be used by others. Just as testing a program almost inevitably results in some changes to the code, reading the documentation generally results in at least a few minor changes to the doc comments."),(0,o.kt)("p",null,"\u672c\u6761\u76ee\u4e2d\u63cf\u8ff0\u7684\u7ea6\u5b9a\u6db5\u76d6\u4e86\u57fa\u672c\u5185\u5bb9\u3002\u5c3d\u7ba1\u64b0\u5199\u672c\u6587\u65f6\u5df2\u7ecf\u6709 15 \u5e74\u7684\u5386\u53f2\uff0c\u4f46\u7f16\u5199\u6587\u6863\u6ce8\u91ca\u7684\u6700\u7ec8\u6307\u5357\u4ecd\u7136\u662f\u300aHow to Write Doc Comments\u300b","[Javadoc-guide]","\u3002\u5982\u679c\u4f60\u9075\u5faa\u672c\u6761\u76ee\u4e2d\u7684\u6307\u5bfc\u539f\u5219\uff0c\u751f\u6210\u7684\u6587\u6863\u5e94\u8be5\u63d0\u4f9b\u5bf9 API \u7684\u6e05\u6670\u63cf\u8ff0\u3002\u7136\u800c\uff0c\u552f\u4e00\u786e\u5b9a\u7684\u65b9\u6cd5\u662f ",(0,o.kt)("strong",{parentName:"p"},"\u8bfb\u53d6 Javadoc \u5b9e\u7528\u7a0b\u5e8f\u751f\u6210\u7684 web \u9875\u9762\u3002")," \u5bf9\u4e8e\u5176\u4ed6\u4eba\u5c06\u4f7f\u7528\u7684\u6bcf\u4e2a API \u90fd\u503c\u5f97\u8fd9\u6837\u505a\u3002\u6b63\u5982\u6d4b\u8bd5\u7a0b\u5e8f\u51e0\u4e4e\u4e0d\u53ef\u907f\u514d\u5730\u4f1a\u5bfc\u81f4\u5bf9\u4ee3\u7801\u7684\u4e00\u4e9b\u66f4\u6539\u4e00\u6837\uff0c\u9605\u8bfb\u6587\u6863\u901a\u5e38\u4e5f\u4f1a\u5bfc\u81f4\u5bf9\u6587\u6863\u6ce8\u91ca\u7684\u4e00\u4e9b\u8f83\u5c0f\u66f4\u6539\u3002"),(0,o.kt)("p",null,"To summarize, documentation comments are the best, most effective way to document your API. Their use should be considered mandatory for all exported API elements. Adopt a consistent style that adheres to standard conventions. Remember that arbitrary HTML is permissible in documentation comments and that HTML metacharacters must be escaped."),(0,o.kt)("p",null,"\u603b\u4e4b\uff0c\u6587\u6863\u6ce8\u91ca\u662f\u8bb0\u5f55API\u7684\u6700\u4f73\u3001\u6700\u6709\u6548\u7684\u65b9\u6cd5\u3002\u5e94\u8be5\u8ba4\u4e3a\uff0c\u6240\u6709\u516c\u5f00\u7684 API \u5143\u7d20\u90fd\u5fc5\u987b\u4f7f\u7528\u6587\u6863\u6ce8\u91ca\uff0c\u5e76\u91c7\u7528\u7b26\u5408\u6807\u51c6\u7ea6\u5b9a\u7684\u7edf\u4e00\u6837\u5f0f\u3002\u8bf7\u8bb0\u4f4f\uff0c\u5728\u6587\u6863\u6ce8\u91ca\u4e2d\u5141\u8bb8\u4f7f\u7528\u4efb\u610f HTML \u6807\u7b7e\uff0c\u5e76\u4e14\u5fc5\u987b\u8f6c\u4e49 HTML \u5143\u5b57\u7b26\u3002"),(0,o.kt)("hr",null),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("a",{parentName:"strong",href:"./Chapter-8-Introduction"},"Back to contents of the chapter\uff08\u8fd4\u56de\u7ae0\u8282\u76ee\u5f55\uff09"))),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Previous Item\uff08\u4e0a\u4e00\u6761\u76ee\uff09\uff1a",(0,o.kt)("a",{parentName:"strong",href:"./Chapter-8-Item-55-Return-optionals-judiciously"},"Item 55: Return optionals judiciously\uff08\u660e\u667a\u5730\u7684\u8fd4\u56de Optional\uff09"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Next Item\uff08\u4e0b\u4e00\u6761\u76ee\uff09\uff1a",(0,o.kt)("a",{parentName:"strong",href:"./Chapter-9-Introduction"},"Chapter 9 Introduction\uff08\u7ae0\u8282\u4ecb\u7ecd\uff09")))))}m.isMDXComponent=!0}}]);