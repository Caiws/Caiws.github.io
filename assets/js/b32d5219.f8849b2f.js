"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3516],{3905:(e,t,n)=>{n.d(t,{Zo:()=>l,kt:()=>m});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=r.createContext({}),s=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},l=function(e){var t=s(e.components);return r.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,p=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),h=s(n),m=o,f=h["".concat(p,".").concat(m)]||h[m]||u[m]||a;return n?r.createElement(f,i(i({ref:t},l),{},{components:n})):r.createElement(f,i({ref:t},l))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=h;var c={};for(var p in t)hasOwnProperty.call(t,p)&&(c[p]=t[p]);c.originalType=e,c.mdxType="string"==typeof e?e:o,i[1]=c;for(var s=2;s<a;s++)i[s]=n[s];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}h.displayName="MDXCreateElement"},793:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>u,frontMatter:()=>a,metadata:()=>c,toc:()=>s});var r=n(7462),o=(n(7294),n(3905));const a={},i=void 0,c={unversionedId:"Books/EffectiveJava3/Chapter-10/Chapter-10-Item-77-Don\u2019t-ignore-exceptions",id:"Books/EffectiveJava3/Chapter-10/Chapter-10-Item-77-Don\u2019t-ignore-exceptions",title:"Chapter-10-Item-77-Don\u2019t-ignore-exceptions",description:"Chapter 10. Exceptions\uff08\u5f02\u5e38\uff09",source:"@site/docs/Books/EffectiveJava3/Chapter-10/Chapter-10-Item-77-Don\u2019t-ignore-exceptions.md",sourceDirName:"Books/EffectiveJava3/Chapter-10",slug:"/Books/EffectiveJava3/Chapter-10/Chapter-10-Item-77-Don\u2019t-ignore-exceptions",permalink:"/docs/Books/EffectiveJava3/Chapter-10/Chapter-10-Item-77-Don\u2019t-ignore-exceptions",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Books/EffectiveJava3/Chapter-10/Chapter-10-Item-77-Don\u2019t-ignore-exceptions.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Chapter-10-Item-76-Strive-for-failure-atomicity",permalink:"/docs/Books/EffectiveJava3/Chapter-10/Chapter-10-Item-76-Strive-for-failure-atomicity"},next:{title:"Chapter-11-Introduction",permalink:"/docs/Books/EffectiveJava3/Chapter-11/Chapter-11-Introduction"}},p={},s=[{value:"Chapter 10. Exceptions\uff08\u5f02\u5e38\uff09",id:"chapter-10-exceptions\u5f02\u5e38",level:2},{value:"Item 77: Don\u2019t ignore exceptions\uff08\u4e0d\u8981\u5ffd\u7565\u5f02\u5e38\uff09",id:"item-77-dont-ignore-exceptions\u4e0d\u8981\u5ffd\u7565\u5f02\u5e38",level:3}],l={toc:s};function u(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,r.Z)({},l,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"chapter-10-exceptions\u5f02\u5e38"},"Chapter 10. Exceptions\uff08\u5f02\u5e38\uff09"),(0,o.kt)("h3",{id:"item-77-dont-ignore-exceptions\u4e0d\u8981\u5ffd\u7565\u5f02\u5e38"},"Item 77: Don\u2019t ignore exceptions\uff08\u4e0d\u8981\u5ffd\u7565\u5f02\u5e38\uff09"),(0,o.kt)("p",null,"While this advice may seem obvious, it is violated often enough that it bears repeating. When the designers of an API declare a method to throw an exception, they are trying to tell you something. Don\u2019t ignore it! It is easy to ignore exceptions by surrounding a method invocation with a try statement whose catch block is empty:"),(0,o.kt)("p",null,"\u867d\u7136\u8fd9\u4e00\u5efa\u8bae\u4f3c\u4e4e\u663e\u800c\u6613\u89c1\uff0c\u4f46\u5b83\u7ecf\u5e38\u88ab\u8fdd\u53cd\uff0c\u56e0\u6b64\u503c\u5f97\u5f3a\u8c03\u3002\u5f53 API \u7684\u8bbe\u8ba1\u4eba\u5458\u58f0\u660e\u4e00\u4e2a\u629b\u51fa\u5f02\u5e38\u7684\u65b9\u6cd5\u65f6\uff0c\u4ed6\u4eec\u8bd5\u56fe\u544a\u8bc9\u4f60\u4e00\u4e9b\u4e8b\u60c5\u3002\u4e0d\u8981\u5ffd\u7565\u5b83\uff01\u5982\u679c\u5728\u65b9\u6cd5\u8c03\u7528\u7684\u5468\u56f4\u52a0\u4e0a\u4e00\u6761 try \u8bed\u53e5\uff0c\u5176 catch \u5757\u4e3a\u7a7a\uff0c\u53ef\u4ee5\u5f88\u5bb9\u6613\u5ffd\u7565\u5f02\u5e38\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"// Empty catch block ignores exception - Highly suspect!\ntry {\n    ...\n}\ncatch (SomeException e) {\n}\n")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"An empty catch block defeats the purpose of exceptions,")," which is to force you to handle exceptional conditions. Ignoring an exception is analogous to ignoring a fire alarm\u2014and turning it off so no one else gets a chance to see if there\u2019s a real fire. You may get away with it, or the results may be disastrous. Whenever you see an empty catch block, alarm bells should go off in your head."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"\u7a7a catch \u5757\u8fdd\u80cc\u4e86\u5f02\u5e38\u7684\u76ee\u7684\uff0c")," \u5b83\u7684\u5b58\u5728\u662f\u4e3a\u4e86\u5f3a\u5236\u4f60\u5904\u7406\u5f02\u5e38\u60c5\u51b5\u3002\u5ffd\u7565\u5f02\u5e38\u7c7b\u4f3c\u4e8e\u5ffd\u7565\u706b\u707e\u8b66\u62a5\u4e00\u6837\uff0c\u5173\u6389\u5b83\u4e4b\u540e\uff0c\u5176\u4ed6\u4eba\u5c31\u6ca1\u6709\u673a\u4f1a\u770b\u5230\u662f\u5426\u771f\u7684\u53d1\u751f\u4e86\u706b\u707e\u3002\u4f60\u53ef\u80fd\u4fa5\u5e78\u9003\u8131\uff0c\u4f46\u7ed3\u679c\u53ef\u80fd\u662f\u707e\u96be\u6027\u7684\u3002\u6bcf\u5f53\u4f60\u770b\u5230\u4e00\u4e2a\u7a7a\u7684 catch \u5757\uff0c\u4f60\u7684\u8111\u6d77\u4e2d\u5e94\u8be5\u54cd\u8d77\u8b66\u62a5\u3002"),(0,o.kt)("p",null,"There are situations where it is appropriate to ignore an exception. For example, it might be appropriate when closing a FileInputStream. You haven\u2019t changed the state of the file, so there\u2019s no need to perform any recovery action, and you\u2019ve already read the information that you need from the file, so there\u2019s no reason to abort the operation in progress. It may be wise to log the exception, so that you can investigate the matter if these exceptions happen often. ",(0,o.kt)("strong",{parentName:"p"},"If you choose to ignore an exception, the catch block should contain a comment explaining why it is appropriate to do so, and the variable should be named ignored:")),(0,o.kt)("p",null,"\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u5ffd\u7565\u5f02\u5e38\u662f\u5408\u9002\u7684\u3002\u4f8b\u5982\uff0c\u5728\u5173\u95ed FileInputStream \u65f6\uff0c\u5ffd\u7565\u5f02\u5e38\u53ef\u80fd\u662f\u5408\u9002\u7684\u3002\u4f60\u6ca1\u6709\u66f4\u6539\u6587\u4ef6\u7684\u72b6\u6001\uff0c\u56e0\u6b64\u4e0d\u9700\u8981\u6267\u884c\u4efb\u4f55\u6062\u590d\u64cd\u4f5c\uff0c\u5e76\u4e14\u5df2\u7ecf\u4ece\u6587\u4ef6\u4e2d\u8bfb\u53d6\u4e86\u6240\u9700\u7684\u4fe1\u606f\uff0c\u56e0\u6b64\u6ca1\u6709\u7406\u7531\u4e2d\u6b62\u6b63\u5728\u8fdb\u884c\u7684\u64cd\u4f5c\u3002\u8bb0\u5f55\u5f02\u5e38\u53ef\u80fd\u662f\u660e\u667a\u7684\uff0c\u8fd9\u6837\u5982\u679c\u8fd9\u4e9b\u5f02\u5e38\u7ecf\u5e38\u53d1\u751f\uff0c\u4f60\u5e94\u8be5\u7814\u7a76\u8d77\u56e0\u3002",(0,o.kt)("strong",{parentName:"p"},"\u5982\u679c\u4f60\u9009\u62e9\u5ffd\u7565\u5f02\u5e38\uff0ccatch \u5757\u5e94\u8be5\u5305\u542b\u4e00\u6761\u6ce8\u91ca\uff0c\u89e3\u91ca\u4e3a\u4ec0\u4e48\u8fd9\u6837\u505a\u662f\u5408\u9002\u7684\uff0c\u5e76\u4e14\u5e94\u8be5\u5c06\u53d8\u91cf\u547d\u540d\u4e3a ignore\uff1a")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"Future<Integer> f = exec.submit(planarMap::chromaticNumber);\nint numColors = 4; // Default; guaranteed sufficient for any map\ntry {\n    numColors = f.get(1L, TimeUnit.SECONDS);\n}\ncatch (TimeoutException | ExecutionException ignored) {\n    // Use default: minimal coloring is desirable, not required\n}\n")),(0,o.kt)("p",null,"The advice in this item applies equally to checked and unchecked exceptions. Whether an exception represents a predictable exceptional condition or a programming error, ignoring it with an empty catch block will result in a program that continues silently in the face of error. The program might then fail at an arbitrary time in the future, at a point in the code that bears no apparent relation to the source of the problem. Properly handling an exception can avert failure entirely. Merely letting an exception propagate outward can at least cause the program to fail swiftly, preserving information to aid in debugging the failure."),(0,o.kt)("p",null,"\u672c\u6761\u76ee\u4e2d\u7684\u5efa\u8bae\u540c\u6837\u9002\u7528\u4e8e checked \u5f02\u5e38\u548c unchecked\u5f02\u5e38\u3002\u4e0d\u7ba1\u5f02\u5e38\u662f\u8868\u793a\u53ef\u9884\u6d4b\u7684\u5f02\u5e38\u6761\u4ef6\u8fd8\u662f\u7f16\u7a0b\u9519\u8bef\uff0c\u7528\u7a7a catch \u5757\u5ffd\u7565\u5b83\u5c06\u5bfc\u81f4\u7a0b\u5e8f\u5728\u9519\u8bef\u9762\u524d\u4fdd\u6301\u9759\u9ed8\u3002\u7136\u540e\uff0c\u7a0b\u5e8f\u53ef\u80fd\u4f1a\u5728\u672a\u6765\u7684\u4efb\u610f\u65f6\u95f4\u70b9\uff0c\u5728\u4e0e\u95ee\u9898\u6e90\u6ca1\u6709\u660e\u663e\u5173\u7cfb\u7684\u4ee3\u7801\u4e2d\u5931\u8d25\u3002\u6b63\u786e\u5904\u7406\u5f02\u5e38\u53ef\u4ee5\u5b8c\u5168\u907f\u514d\u5931\u8d25\u3002\u4ec5\u4ec5\u8ba9\u5f02\u5e38\u5411\u5916\u4f20\u64ad\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u7a0b\u5e8f\u8d70\u5411\u5931\u8d25\uff0c\u4fdd\u7559\u4fe1\u606f\u6709\u5229\u4e8e\u8c03\u8bd5\u3002"),(0,o.kt)("hr",null),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("a",{parentName:"strong",href:"./Chapter-10/Chapter-10-Introduction"},"Back to contents of the chapter\uff08\u8fd4\u56de\u7ae0\u8282\u76ee\u5f55\uff09"))),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Previous Item\uff08\u4e0a\u4e00\u6761\u76ee\uff09\uff1a",(0,o.kt)("a",{parentName:"strong",href:"./Chapter-10/Chapter-10-Item-76-Strive-for-failure-atomicity"},"Item 76: Strive for failure atomicity\uff08\u5c3d\u529b\u4fdd\u8bc1\u6545\u969c\u539f\u5b50\u6027\uff09"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Next Item\uff08\u4e0b\u4e00\u6761\u76ee\uff09\uff1a",(0,o.kt)("a",{parentName:"strong",href:"./Chapter-11/Chapter-11-Introduction"},"Chapter 11 Introduction\uff08\u7ae0\u8282\u4ecb\u7ecd\uff09")))))}u.isMDXComponent=!0}}]);